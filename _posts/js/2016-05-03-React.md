---
layout: post
title:  "React"
date:   2016-05-03 11:11:11
categories: js
permalink: js/react
---



# ReactDOM.render()

    ReactDOM.render(
      <h1>Hello, world!</h1>,
      document.getElementById('example')
    );

# React.createClass

    var HelloMessage = React.createClass({
      render: function() {
        return <h1>Hello {this.props.name}</h1>;
      }
    });

    ReactDOM.render(
      <HelloMessage name="John" />,
      document.getElementById('example')
    );

* 组件类的第一个字母必须大写，否则会报错
* 组件类只能包含一个顶层标签，否则会报错

# this.props 组件的属性

## this.props.children 组件的子节点

## 特殊属性

* class -> className
* for -> htmlFor

## style

    style={{opacity: this.state.opacity}}

## PropTypes 属性验证

    var MyTitle = React.createClass({
      propTypes: {
        title: React.PropTypes.string.isRequired,
      },
      render: function() {
         return <h1> {this.props.title} </h1>;
       }
    });

* React.PropTypes.array
* React.PropTypes.bool
* React.PropTypes.func
* React.PropTypes.number
* React.PropTypes.object
* React.PropTypes.string
* React.PropTypes.node
* React.PropTypes.element
* React.PropTypes.instanceOf()
* ...

## getDefaultProps 设置组件属性的默认值

    var MyTitle = React.createClass({
      getDefaultProps : function () {
        return {
          title : 'Hello World'
        };
      }
    });

## ref

* this.refs.[refName] 从组件获取真实 DOM 的节点

# this.state

* getInitialState
* this.state[stateName]
* this.setState()

#  表单

* event.target.value      input、textarea
* event.target.checked    checkbox、radio
* event.target.selected   option

# 组件的生命周期

* Mounting：已插入真实 DOM
* Updating：正在被重新渲染
* Unmounting：已移出真实 DOM

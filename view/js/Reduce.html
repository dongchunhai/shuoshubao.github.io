<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="硕鼠宝,shuoshubao,shubao,FE,html5,css3,js,jquery,jq">
  <meta name="keywords" content="硕鼠宝,shuoshubao,shubao,FE,html5,css3,js,jquery,jq">
  <link rel="shortcut icon" href="favicon.ico">
  <title>WEB前端开发 - </title>
  <link rel="stylesheet" href="/build/app.css">
</head>
<body>

<nav class="nav">
  <div class="inner">
    <div class="wrap">
      <a class="home" href="/#">
        <svg
          class="logo"
          aria-hidden="true"
          width="30"
          height="30"
          version="1.1"
          viewBox="0 0 16 16"
        >
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
        </svg>
        <span class="name">硕鼠宝</span>
      </a>
      <ul>
        
          <li class="">
            <a href="/view/index/index.html">Home</a>
          </li>
        
          <li class="">
            <a href="/view/html/index.html">HTML</a>
          </li>
        
          <li class="">
            <a href="/view/css/index.html">CSS</a>
          </li>
        
          <li class="active">
            <a href="/view/js/index.html">JS</a>
          </li>
        
          <li class="">
            <a href="/view/node/index.html">Node</a>
          </li>
        
          <li class="">
            <a href="/view/tool/index.html">Tool</a>
          </li>
        
          <li class="">
            <a href="/view/assemble/index.html">Assemble</a>
          </li>
        
      </ul>
      <a
        class="github"
        target="_blank" rel="noopener noreferrer"
        href="https://github.com/shuoshubao/shuoshubao.github.io/"
      >GitHub</a>
    </div>
  </div>
</nav>

<article class="content">
  
    
      <div class="markdown">
        <blockquote>
<p>虽然你去百度上搜索 <code>reduce</code>, 发现只给了一个求和这一个demo, 但别以为reduce的作用就止于求和</p>
</blockquote>
<h1>Number</h1>
<h2>求和</h2>
<pre class="hljs language-javascript"><table><tbody><tr><td data-line-number=1></td><td>arr.reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> prev + cur)</td></tr></tbody></table></pre>
<h2>极值</h2>
<pre class="hljs language-javascript"><table><tbody><tr><td data-line-number=1></td><td>arr.reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> <span class="hljs-built_in">Math</span>.min(prev, cur))</td></tr><tr><td data-line-number=2></td><td>arr.reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> <span class="hljs-built_in">Math</span>.max(prev, cur))</td></tr></tbody></table></pre>
<h2>阶乘</h2>
<pre class="hljs language-javascript"><table><tbody><tr><td data-line-number=1></td><td><span class="hljs-keyword">const</span> factorial = <span class="hljs-function">(<span class="hljs-params">N</span>) =&gt;</span> <span class="hljs-built_in">Array</span>.from(<span class="hljs-built_in">Array</span>(N), (v, i) =&gt; i + <span class="hljs-number">1</span>).reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> prev * cur)</td></tr><tr><td data-line-number=2></td><td></td></tr><tr><td data-line-number=3></td><td>factorial(<span class="hljs-number">5</span>) <span class="hljs-comment">// 120</span></td></tr></tbody></table></pre>
<h1>Array</h1>
<pre class="hljs language-javascript"><table><tbody><tr><td data-line-number=1></td><td><span class="hljs-comment">// 需求</span></td></tr><tr><td data-line-number=2></td><td><span class="hljs-comment">// 数据源</span></td></tr><tr><td data-line-number=3></td><td><span class="hljs-keyword">const</span> data = [</td></tr><tr><td data-line-number=4></td><td>  <span class="hljs-string">'1000001001'</span>,</td></tr><tr><td data-line-number=5></td><td>  <span class="hljs-string">'1000001002'</span>,</td></tr><tr><td data-line-number=6></td><td>  <span class="hljs-string">'1000001003'</span>,</td></tr><tr><td data-line-number=7></td><td>  <span class="hljs-string">'2000001009'</span>,</td></tr><tr><td data-line-number=8></td><td>  <span class="hljs-string">'2000001008'</span>,</td></tr><tr><td data-line-number=9></td><td>]</td></tr><tr><td data-line-number=10></td><td><span class="hljs-comment">// 需要得到</span></td></tr><tr><td data-line-number=11></td><td>{</td></tr><tr><td data-line-number=12></td><td>  <span class="hljs-string">'10000'</span>: [<span class="hljs-string">'1000001001'</span>, <span class="hljs-string">'1000001002'</span>, <span class="hljs-string">'1000001003'</span>],</td></tr><tr><td data-line-number=13></td><td>  <span class="hljs-string">'20000'</span>: [<span class="hljs-string">'200001009'</span>, <span class="hljs-string">'200001008'</span>]</td></tr><tr><td data-line-number=14></td><td>}</td></tr><tr><td data-line-number=15></td><td></td></tr><tr><td data-line-number=16></td><td><span class="hljs-keyword">const</span> convertArrayToJson = <span class="hljs-function"><span class="hljs-params">arr</span> =&gt;</span> arr.reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> {</td></tr><tr><td data-line-number=17></td><td>  <span class="hljs-keyword">const</span> short = cur.slice(<span class="hljs-number">0</span>, <span class="hljs-number">6</span>)</td></tr><tr><td data-line-number=18></td><td>  <span class="hljs-keyword">const</span> temp = prev[short]</td></tr><tr><td data-line-number=19></td><td>  <span class="hljs-keyword">if</span>(temp) {</td></tr><tr><td data-line-number=20></td><td>    prev[short].push(cur)</td></tr><tr><td data-line-number=21></td><td>  }<span class="hljs-keyword">else</span> {</td></tr><tr><td data-line-number=22></td><td>    prev[short] = [cur]</td></tr><tr><td data-line-number=23></td><td>  }</td></tr><tr><td data-line-number=24></td><td>  <span class="hljs-keyword">return</span> prev</td></tr><tr><td data-line-number=25></td><td>}, {})</td></tr><tr><td data-line-number=26></td><td></td></tr><tr><td data-line-number=27></td><td><span class="hljs-keyword">const</span> ret = convertArrayToJson(data)</td></tr></tbody></table></pre>
<h1>Object</h1>
<h2>filter 筛选对象</h2>
<pre class="hljs language-javascript"><table><tbody><tr><td data-line-number=1></td><td><span class="hljs-keyword">const</span> filter = <span class="hljs-function">(<span class="hljs-params">json, attrs</span>) =&gt;</span> attrs.reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> {</td></tr><tr><td data-line-number=2></td><td>  prev[cur] = json[cur]</td></tr><tr><td data-line-number=3></td><td>  <span class="hljs-keyword">return</span> prev</td></tr><tr><td data-line-number=4></td><td>}, {})</td></tr><tr><td data-line-number=5></td><td></td></tr><tr><td data-line-number=6></td><td><span class="hljs-keyword">const</span> data = {</td></tr><tr><td data-line-number=7></td><td>  <span class="hljs-attr">name</span>: <span class="hljs-string">'shuoshubao'</span>,</td></tr><tr><td data-line-number=8></td><td>  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,</td></tr><tr><td data-line-number=9></td><td>  <span class="hljs-attr">sex</span>: <span class="hljs-number">1</span></td></tr><tr><td data-line-number=10></td><td>}</td></tr><tr><td data-line-number=11></td><td></td></tr><tr><td data-line-number=12></td><td><span class="hljs-keyword">const</span> filterData = filter(data, [<span class="hljs-string">'name'</span>, <span class="hljs-string">'age'</span>])</td></tr><tr><td data-line-number=13></td><td><span class="hljs-comment">// {name: 'shuoshubao', age: 25}</span></td></tr></tbody></table></pre>
<h2>omit 过滤对象</h2>
<pre class="hljs language-javascript"><table><tbody><tr><td data-line-number=1></td><td><span class="hljs-keyword">const</span> omit = <span class="hljs-function">(<span class="hljs-params">json, attrs</span>) =&gt;</span> <span class="hljs-built_in">Object</span>.keys(data).filter(<span class="hljs-function"><span class="hljs-params">v</span> =&gt;</span> !attrs.includes(v)).reduce(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span> {</td></tr><tr><td data-line-number=2></td><td>  prev[cur] = json[cur]</td></tr><tr><td data-line-number=3></td><td>  <span class="hljs-keyword">return</span> prev</td></tr><tr><td data-line-number=4></td><td>}, {})</td></tr><tr><td data-line-number=5></td><td></td></tr><tr><td data-line-number=6></td><td><span class="hljs-keyword">const</span> data = {</td></tr><tr><td data-line-number=7></td><td>  <span class="hljs-attr">name</span>: <span class="hljs-string">'shuoshubao'</span>,</td></tr><tr><td data-line-number=8></td><td>  <span class="hljs-attr">age</span>: <span class="hljs-number">25</span>,</td></tr><tr><td data-line-number=9></td><td>  <span class="hljs-attr">sex</span>: <span class="hljs-number">1</span></td></tr><tr><td data-line-number=10></td><td>}</td></tr><tr><td data-line-number=11></td><td></td></tr><tr><td data-line-number=12></td><td><span class="hljs-keyword">const</span> omitData = omit(data, [<span class="hljs-string">'name'</span>, <span class="hljs-string">'age'</span>])</td></tr><tr><td data-line-number=13></td><td><span class="hljs-comment">// {sex: 1}</span></td></tr></tbody></table></pre>

      </div>
    
  
</article>

<footer class="footer">
  <div class="outer">
    <div class="wrap">
      <span>© 2014-2017 Shuoshubao.com 版权所有 京ICP备15042742号</span>
      <span> Powered by </span>
      <a
        target="_blank"
        rel="noopener noreferrer"
        href="https://github.com/shuoshubao/shuoshubao.github.io/"
      > GitHub </a>
      <a
        target="_blank"
        rel="noopener noreferrer"
        href="https://facebook.github.io/react/"
      > React </a>
    </div>
  </div>
</footer>

</body>
</html>

$(function(){function n(n){n?($(".g-nav, .g-xs-header .icon-menu, .mask-nav").addClass("active"),$("body").addClass("move-right")):($(".g-nav, .g-xs-header .icon-menu, .mask-nav").removeClass("active"),$("body").removeClass("move-right"))}function a(){var n=window.location.pathname.split("/");2===n.length&&i(DATA),""===n[2]&&-1===["nav","about"].indexOf(n[1])&&i(o(n[1])),e()}function t(n){window.history.pushState({},"",n);var a=window.location.pathname.split("/");""===a[1]&&i(DATA),""===a[2]&&-1===["nav","about"].indexOf(a[1])&&i(o(a[1])),(a[2]||""===a[2]&&-1!==["nav","about"].indexOf(a[1]))&&c.load(n+" #g-content"),e()}function i(n){var a='<ul class="m-list">';$.each(n,function(n,t){a+='<li data-href="'+t.url.slice(0,-1)+'.html"><span class="title">'+t.title+'</span><span class="time">'+t.date+"</span></li>"}),a+="</ul>",c.html(a)}function o(n){var a=[];return $.each(DATA,function(t,i){i.categories===n&&a.push(i)}),a}function e(){var n=window.location.pathname.split("/");$(".g-nav li").removeClass("active"),$('.g-nav li[data-href="/'+(""==n[1]?"":n[1]+"/")+'"]').addClass("active").siblings().removeClass("active")}var c=$("#g-content");a(),$("#g-content").on("click",".m-list li",function(){var a=$(this).data("href");t(a),n()}),$(".g-nav").on("click","li",function(){var a=$(this).data("href");return a===window.location.pathname?!1:(t(a),void n())}),$(".g-header .brand, .g-xs-header .title").click(function(){return"/"===window.location.pathname?!1:(window.history.pushState({},"","/"),t("/"),void n())}),$(window).on("popstate",function(){a();var t=window.location.pathname.split("/");t[2]&&c.load(window.location.href+" #g-content"),n()}),$(".g-xs-header .icon-menu").click(function(){n(!0)}),$(".mask-nav").click(function(){n()})});